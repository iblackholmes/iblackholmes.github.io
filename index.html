<!DOCTYPE html>



  


<html class="theme-next muse use-motion" lang="zh-hans">
<head><meta name="generator" content="Hexo 3.8.0">
  <meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
<meta name="theme-color" content="#222">









<meta http-equiv="Cache-Control" content="no-transform">
<meta http-equiv="Cache-Control" content="no-siteapp">
















  
  
  <link href="lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css">







<link href="lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css">

<link href="css/main.css?v=5.1.4" rel="stylesheet" type="text/css">


  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png?v=5.1.4">


  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png?v=5.1.4">


  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png?v=5.1.4">


  <link rel="mask-icon" href="/images/logo.svg?v=5.1.4" color="#222">





  <meta name="keywords" content="Hexo, NexT">










<meta property="og:type" content="website">
<meta property="og:title" content="IBLACKHOLMES">
<meta property="og:url" content="http://yoursite.com/index.html">
<meta property="og:site_name" content="IBLACKHOLMES">
<meta property="og:locale" content="zh-hans">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="IBLACKHOLMES">



<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Muse',
    version: '5.1.4',
    sidebar: {"position":"left","display":"post","offset":12,"b2t":false,"scrollpercent":false,"onmobile":false},
    fancybox: true,
    tabs: true,
    motion: {"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},
    duoshuo: {
      userId: '0',
      author: 'Author'
    },
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>



  <link rel="canonical" href="http://yoursite.com/">





  <title>IBLACKHOLMES</title>
  








</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="zh-hans">

  
  
    
  

  <div class="container sidebar-position-left 
  page-home">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta ">
    

    <div class="custom-logo-site-title">
      <a href="/" class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">IBLACKHOLMES</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
      
        <p class="site-subtitle">welcome coming</p>
      
  </div>

  <div class="site-nav-toggle">
    <button>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br>
            
            Home
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br>
            
            Archives
          </a>
        </li>
      

      
    </ul>
  

  
</nav>



 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            
  <section id="posts" class="posts-expand">
    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com2020/03/30/PATç”²çº§çœŸé¢˜-1026-Table-Tennis/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="iblackholmes">
      <meta itemprop="description" content>
      <meta itemprop="image" content="images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="IBLACKHOLMES">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="2020/03/30/PATç”²çº§çœŸé¢˜-1026-Table-Tennis/" itemprop="url">PATç”²çº§çœŸé¢˜-1026.Table Tennis</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2020-03-30T09:00:27+08:00">
                2020-03-30
              </time>
            

            

            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="categories/ç¼–ç¨‹ä¹‹æ—…/" itemprop="url" rel="index">
                    <span itemprop="name">ç¼–ç¨‹ä¹‹æ—…</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h2 id="é¢˜ç›®åœ°å€"><a href="#é¢˜ç›®åœ°å€" class="headerlink" title="é¢˜ç›®åœ°å€"></a>é¢˜ç›®åœ°å€</h2><p><a href="https://pintia.cn/problem-sets/994805342720868352/problems/994805472333250560" target="_blank" rel="noopener">https://pintia.cn/problem-sets/994805342720868352/problems/994805472333250560</a></p>
<h2 id="é¢˜ç›®æè¿°"><a href="#é¢˜ç›®æè¿°" class="headerlink" title="é¢˜ç›®æè¿°"></a>é¢˜ç›®æè¿°</h2><h3 id="Description"><a href="#Description" class="headerlink" title="Description"></a>Description</h3><p>A table tennis club has N tables available to the public. The tables are numbered from 1 to N. For any pair of players, if there are some tables open when they arrive, they will be assigned to the available table with the smallest number. If all the tables are occupied, they will have to wait in a queue. It is assumed that every pair of players can play for at most 2 hours.</p>
<p>Your job is to count for everyone in queue their waiting time, and for each table the number of players it has served for the day.</p>
<p>One thing that makes this procedure a bit complicated is that the club reserves some tables for their VIP members. When a VIP table is open, the first VIP pair in the queue will have the priviledge to take it. However, if there is no VIP in the queue, the next pair of players can take it. On the other hand, if when it is the turn of a VIP pair, yet no VIP table is available, they can be assigned as any ordinary players.</p>
<h3 id="Input-Specification"><a href="#Input-Specification" class="headerlink" title="Input Specification"></a>Input Specification</h3><p>Each input file contains one test case. For each case, the first line contains an integer N ($\leq$10000) - the total number of pairs of players. Then N lines follow, each contains 2 times and a VIP tag: HH:MM:SS - the arriving time, P - the playing time in minutes of a pair of players, and tag - which is 1 if they hold a VIP card, or 0 if not. It is guaranteed that the arriving time is between 08:00:00 and 21:00:00 while the club is open. It is assumed that no two customers arrives at the same time. Following the playersâ€™ info, there are 2 positive integers: K ($\leq$100) - the number of tables, and M (&lt; K) - the number of VIP tables. The last line contains M table numbers.</p>
<h3 id="Output-Specification"><a href="#Output-Specification" class="headerlink" title="Output Specification"></a>Output Specification</h3><p>For each test case, first print the arriving time, serving time and the waiting time for each pair of players in the format shown by the sample. Then print in a line the number of players served by each table. Notice that the output must be listed in chronological order of the serving time. The waiting time must be rounded up to an integer minute(s). If one cannot get a table before the closing time, their information must NOT be printed.</p>
<h3 id="Sample-Input"><a href="#Sample-Input" class="headerlink" title="Sample Input"></a>Sample Input</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">9</span><br><span class="line">20:52:00 10 0</span><br><span class="line">08:00:00 20 0</span><br><span class="line">08:02:00 30 0</span><br><span class="line">20:51:00 10 0</span><br><span class="line">08:10:00 5 0</span><br><span class="line">08:12:00 10 1</span><br><span class="line">20:50:00 10 0</span><br><span class="line">08:01:30 15 1</span><br><span class="line">20:53:00 10 1</span><br><span class="line">3 1</span><br><span class="line">2</span><br></pre></td></tr></table></figure>
<h3 id="Sample-Output"><a href="#Sample-Output" class="headerlink" title="Sample Output"></a>Sample Output</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">08:00:00 08:00:00 0</span><br><span class="line">08:01:30 08:01:30 0</span><br><span class="line">08:02:00 08:02:00 0</span><br><span class="line">08:12:00 08:16:30 5</span><br><span class="line">08:10:00 08:20:00 10</span><br><span class="line">20:50:00 20:50:00 0</span><br><span class="line">20:51:00 20:51:00 0</span><br><span class="line">20:52:00 20:52:00 0</span><br><span class="line">3 3 2</span><br></pre></td></tr></table></figure>
<h2 id="åˆ†æä¸æ€è·¯"><a href="#åˆ†æä¸æ€è·¯" class="headerlink" title="åˆ†æä¸æ€è·¯"></a>åˆ†æä¸æ€è·¯</h2><h3 id="é¢˜ç›®å¤§æ„"><a href="#é¢˜ç›®å¤§æ„" class="headerlink" title="é¢˜ç›®å¤§æ„"></a>é¢˜ç›®å¤§æ„</h3><p>ä¸€å®¶å…µä¹“çƒä¿±ä¹éƒ¨ï¼Œè¥ä¸šæ—¶é—´æ˜¯8:00-21:00ï¼Œæœ‰Nå¼ çƒæ¡Œï¼Œå…¶ä¸­Kå¼ æ˜¯VIPçƒæ¡Œï¼Œçƒæ¡Œæœ€é•¿å¯ä¾›å¨±ä¹æ—¶é—´ä¸º2å°æ—¶ã€‚</p>
<p>ä¿±ä¹éƒ¨æœåŠ¡è§„åˆ™å¦‚ä¸‹ï¼š</p>
<ul>
<li>å½“æœ‰é¡¾å®¢åˆ°æ¥æ—¶ï¼Œé¡¾å®¢ä¼šä¼˜å…ˆé€‰æ‹©åºå·æœ€å°çš„å¯ç”¨çƒæ¡Œï¼ŒåŒ…æ‹¬æ™®é€šçƒæ¡Œå’ŒVIPçƒæ¡Œï¼Œå¦‚æœæ²¡æœ‰çƒæ¡Œå¯ç”¨ï¼Œå°±æ’é˜Ÿç­‰å€™ã€‚</li>
<li>å¯¹äºVIPé¡¾å®¢è€Œè¨€ï¼Œä»–ä»¬ä¼šä¼˜å…ˆé€‰æ‹©åºå·æœ€å°çš„å¯ç”¨VIPçƒæ¡Œï¼Œå†è€ƒè™‘åºå·æœ€å°çš„æ™®é€šçƒæ¡Œï¼Œå¦‚æœæ²¡æœ‰çƒæ¡Œå¯ç”¨ï¼Œä¾æ—§æ’é˜Ÿç­‰å€™ã€‚</li>
<li>å½“ä¸€å¼ æ™®é€šçƒæ¡Œå¯ç”¨æ—¶ï¼Œä¼šä¼˜å…ˆæä¾›ç»™é˜Ÿåˆ—ä¸­æœ€æ—©åˆ°è¾¾çš„é¡¾å®¢ï¼Œæ— è®ºæ˜¯æ™®é€šé¡¾å®¢è¿˜æ˜¯VIPé¡¾å®¢ã€‚</li>
<li>å½“ä¸€å¼ VIPçƒæ¡Œå¯ç”¨æ—¶ï¼Œä¼šä¼˜å…ˆæä¾›ç»™é˜Ÿåˆ—ä¸­æœ€æ—©åˆ°è¾¾çš„VIPé¡¾å®¢ï¼Œå†è€ƒè™‘é˜Ÿåˆ—ä¸­æœ€æ—©åˆ°è¾¾çš„æ™®é€šé¡¾å®¢ã€‚</li>
</ul>
<h3 id="åˆ†æ"><a href="#åˆ†æ" class="headerlink" title="åˆ†æ"></a>åˆ†æ</h3><p>è¿™æ˜¯ä¸€é“æ¨¡æ‹Ÿé¢˜ï¼Œéœ€è¦è€ƒè™‘çš„caseè¾ƒä¸ºå¤æ‚ï¼Œä¸€ä¸ç•™ç¥å°±å¾ˆå®¹æ˜“å¡ä½ã€‚ä¸»è¦æ€è·¯æœ‰ä¸¤å¤§æ–¹å‘ï¼šäººé€‰æ¡Œå­ï¼Œoræ¡Œå­é€‰äººã€‚ä¸¤è€…çš„å®ç°æµç¨‹ä¹Ÿéå¸¸ç›¸ä¼¼ï¼š</p>
<ol>
<li><p>äººé€‰æ¡Œå­</p>
<blockquote>
<p>S1. å…ˆç¡®å®šå½“å‰é¡¾å®¢æ˜¯å¦æ˜¯VIPé¡¾å®¢ï¼Œæ˜¯åˆ™è¿›å…¥S2ï¼Œå¦åˆ™è¿›å…¥S3ï¼›<br>S2. å½“å‰é¡¾å®¢ä¸ºVIPé¡¾å®¢ï¼Œæ£€æŸ¥å½“å‰æ˜¯å¦æœ‰VIPæ¡Œå­ç©ºé—²ï¼Œå¦‚æœæœ‰åˆ™åˆ†é…ï¼Œå¦åˆ™è¿›å…¥S3ï¼›<br>S3. å½“å‰é¡¾å®¢éVIPé¡¾å®¢ï¼Œæˆ–è€…æ²¡æœ‰ç©ºé—²çš„VIPæ¡Œå­ï¼Œåˆ™é€‰æ‹©åºå·æœ€å°çš„ç©ºé—²æ¡Œå­</p>
</blockquote>
</li>
<li><p>æ¡Œå­é€‰äºº</p>
<blockquote>
<p>S1. å…ˆç¡®å®šå½“å‰æ¡Œå­æ˜¯å¦æ˜¯VIPæ¡Œå­ï¼Œæ˜¯åˆ™è¿›å…¥S2ï¼Œå¦åˆ™è¿›å…¥S3ï¼›<br>S2. å½“å‰æ¡Œå­ä¸ºVIPæ¡Œå­ï¼Œæ£€æŸ¥å½“å‰é˜Ÿåˆ—ä¸­æ˜¯å¦æœ‰VIPé¡¾å®¢ï¼Œå¦‚æœæœ‰ï¼Œåˆ™åˆ†ç»™æ¡Œå­ç»™æœ€å…ˆåˆ°è¾¾çš„VIPé¡¾å®¢ï¼Œå¦åˆ™è¿›å…¥S3<br>S3. å½“å‰æ¡Œå­éVIPæ¡Œå­ï¼Œæˆ–è€…æ²¡æœ‰VIPé¡¾å®¢å†é˜Ÿåˆ—ä¸­ï¼Œåˆ™åˆ†é…æ¡Œå­ç»™æœ€å…ˆåˆ°è¾¾çš„é¡¾å®¢</p>
</blockquote>
</li>
</ol>
<p>è¿™é‡Œçš„é¢˜è§£é‡‡ç”¨æ–¹æ³•äºŒï¼šæ¡Œå­é€‰äººã€‚ï¼ˆé‡‡ç”¨æ–¹æ³•ä¸€çš„é¢˜è§£çœ‹<a href="https://blog.csdn.net/jmlikun/article/details/49821845" target="_blank" rel="noopener">è¿™é‡Œ</a>[^2]ï¼‰.</p>
<p>ä¸€äº›å˜é‡è¯´æ˜ï¼š</p>
<ul>
<li><p>é¦–å…ˆè®¾å®šä¸¤ä¸ªç»“æ„ä½“ï¼š<kbd>customer</kbd>å’Œ<kbd>table</kbd>ï¼Œåˆ†åˆ«å­˜å‚¨é¡¾å®¢å’Œçƒæ¡Œçš„ç›¸å…³ä¿¡æ¯ã€‚å› ä¸ºè¾“å…¥çš„é¡¾å®¢ä¿¡æ¯æ˜¯æ— åºçš„ï¼Œéœ€è¦æ ¹æ®é¡¾å®¢çš„åˆ°è¾¾æ—¶é—´æ’åºã€‚</p>
</li>
<li><p>è¿™é‡Œé€šè¿‡setæ¨¡æ‹Ÿä¼˜å…ˆé˜Ÿåˆ—ï¼Œä¼˜å…ˆçº§è®¾ä¸º[å¯ç”¨æ—¶é—´æœ€æ—©ï¼Œåºå·æœ€å°]ã€‚è®¾ç«‹ä¸¤ä¸ªä¼˜å…ˆé˜Ÿåˆ—ï¼š<kbd>tabQ</kbd>å’Œ<kbd>vipTabQ</kbd>ï¼Œåˆ†åˆ«å‚¨å­˜æ‰€æœ‰æ¡Œå­çš„ä¼˜å…ˆé˜Ÿåˆ—å’ŒVIPæ¡Œå­çš„ä¼˜å…ˆé˜Ÿåˆ—ã€‚</p>
</li>
<li><p>è®¾ç½®<kbd>cusIdx</kbd>å’Œ<kbd>vipCusIdx</kbd>ï¼Œåˆ†åˆ«æŒ‡å‘ä¸‹ä¸€ä¸ªæœ€æ—©çš„é¡¾å®¢ï¼Œå’Œä»cusIdxå¼€å§‹çš„ä¸‹ä¸€ä¸ªæœ€æ—©VIPé¡¾å®¢ã€‚</p>
</li>
</ul>
<p>æ¡Œå­åˆ†é…æµç¨‹å¦‚ä¸‹ï¼š</p>
<ul>
<li>å¾ªç¯åˆå§‹åˆ¤æ–­ï¼š<ul>
<li>å½“cusIdxå¤§äºN(è¯´æ˜æ‰€æœ‰é¡¾å®¢éƒ½æœåŠ¡å®Œ)ï¼Œè·³å‡ºå¾ªç¯</li>
<li>å½“ä¸‹ä¸€ä¸ªé¡¾å®¢åˆ°è¾¾çš„æ—¶é—´è¶…è¿‡21:00ï¼Œæˆ–è€…æ¡Œå­çš„æœ€æ—©å¯ç”¨æ—¶é—´è¶…è¿‡21:00(è¯´æ˜å¾€åçš„é¡¾å®¢éƒ½ä¸èƒ½åœ¨ä¿±ä¹éƒ¨å…³é—¨ä¹‹å‰è·å¾—æœåŠ¡)ï¼Œåˆ™è·³å‡ºå¾ªç¯ã€‚</li>
<li>åŒæ—¶æ³¨æ„ï¼ŒVIPæ¡Œå­æœ‰å¯èƒ½ä¼šè·³è¿‡cusIdxæŒ‡å‘çš„å½“å‰é¡¾å®¢ï¼Œè€ŒæœåŠ¡vipCusIdxæŒ‡å‘çš„VIPé¡¾å®¢ï¼Œå› æ­¤å¦‚æœå½“å‰é¡¾å®¢è¢«æœåŠ¡è¿‡äº†ï¼Œå°±è·³è¿‡ä¹‹ã€‚</li>
<li>å½“vipCusIdx\&lt;cusIdxæ—¶ï¼Œæ›´æ–°vipCusIdxï¼›</li>
</ul>
</li>
<li>åˆ†ç±»è®¨è®ºå½“å‰æ¡Œå­é˜Ÿåˆ—çš„ç¬¬ä¸€å¼ æ¡Œå­ã€‚å¦‚æœå½“å‰æ¡Œå­æ˜¯VIPæ¡Œå­ï¼Œé‚£ä¹ˆ<ul>
<li>è‹¥å½“å‰é¡¾å®¢æ˜¯VIPé¡¾å®¢ï¼Œæˆ–æ²¡æœ‰VIPé¡¾å®¢åœ¨é˜Ÿåˆ—ä¸­ï¼Œç›´æ¥åˆ†é…</li>
<li>è‹¥å½“å‰é¡¾å®¢éVIPé¡¾å®¢ï¼Œåˆ¤æ–­é¡¾å®¢é˜Ÿåˆ—ä¸­æ˜¯å¦æœ‰VIPé¡¾å®¢(é€šè¿‡vipCusIdxæŒ‡å‘çš„é¡¾å®¢çš„åˆ°è¾¾æ—¶é—´å’Œå½“å‰æ¡Œå­å¯ç”¨æ—¶é—´åˆ¤æ–­)ï¼Œå¦‚æœæ˜¯ï¼Œåˆ™åˆ†é…å½“å‰æ¡Œå­ç»™VIPé¡¾å®¢ï¼Œæ›´æ–°vipCusIdxå€¼</li>
</ul>
</li>
<li>å¦‚æœå½“å‰æ¡Œå­æ˜¯æ™®é€šæ¡Œå­ï¼Œé‚£ä¹ˆå¯¹é¡¾å®¢é˜Ÿåˆ—ä¸­ç¬¬ä¸€äººè¿›è¡Œåˆ†ç±»è®¨è®º<ul>
<li>è‹¥å½“å‰é¡¾å®¢æ˜¯VIPé¡¾å®¢ï¼Œå¹¶ä¸”æœ‰VIPæ¡Œå­ç©ºé—²ï¼Œå°†VIPæ¡Œå­åˆ†é…ç»™è¯¥é¡¾å®¢</li>
<li>è‹¥å½“å‰é¡¾å®¢éVIPé¡¾å®¢ï¼Œæˆ–è€…æ— VIPæ¡Œå­ç©ºé—²ï¼Œå°†å½“å‰æ¡Œå­åˆ†é…ç»™è¯¥é¡¾å®¢</li>
</ul>
</li>
</ul>
<p>åˆ†é…å®Œåï¼Œé€šè¿‡é¡¾å®¢è¢«æœåŠ¡æ—¶é—´å†è¿›è¡Œæ’åºï¼Œè¾“å‡ºå³å¯ã€‚</p>
<p>æœ€åè¦å¼ºè°ƒçš„æ˜¯ï¼ï¼ä¹Ÿæ˜¯æˆ‘è¢«å¡äº†å¾ˆä¹…ä¸€ç‚¹çš„æ˜¯ï¼ï¼é¡¾å®¢ç­‰å¾…æ—¶é—´çš„è¿›ä½æ˜¯æŒ‰ç…§å››èˆäº”å…¥çš„ï¼Œä¹Ÿå°±æ˜¯è¯´å¤§äºç­‰äº30sçš„è¿›ä¸€åˆ†é’Ÿï¼Œå¦åˆ™èˆå»ã€‚æœ€åä¸€ä¸ªæµ‹è¯•ç”¨ä¾‹å°±æ˜¯æ£€éªŒè¿™ä¸ª30sçš„ã€‚ä»£ç ä¸€åˆ·çš„æ—¶å€™æ²¡æ˜ç™½ï¼Œä»¥ä¸ºæ˜¯é€»è¾‘æœ‰æ¼æ´ï¼Œæš‚æ—¶è·³è¿‡è¿™é“é¢˜â€¦äºŒåˆ·çš„æ—¶å€™ä»ç„¶æ˜¯å¡åœ¨äº†æœ€åä¸€ä¸ªæµ‹è¯•ç‚¹ğŸ˜‚ï¼Œå®åœ¨æ˜¯å¤ªè¿‡åˆ†äº†/(ã„’oã„’)/ï¼ï¼æœ€åæ˜¯æ ¹æ®<a href="https://blog.csdn.net/jmlikun/article/details/49821845" target="_blank" rel="noopener">è¿™ç¯‡åšæ–‡</a>[^2]æåˆ°çš„æµ‹è¯•ç”¨ä¾‹æ‰ååº”è¿‡æ¥ï¼ˆå…¶å®ƒæ¯”è¾ƒé‡è¦çš„æµ‹è¯•ç”¨ä¾‹ä¹Ÿå¯ä»¥çœ‹çœ‹(*\^_\^*)ï¼‰</p>
<p>ç®€å•è®°å½•ä¸€ä¸‹ä¸¤ç§å®ç°å››èˆäº”å…¥è¿›ä½æ–¹å¼çš„æ–¹æ³•ï¼š</p>
<ol>
<li><p>æ˜¾ç¤ºç¼–å†™</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">cus[cusIdx].wait = cus[cusIdx].ser - cus[cusIdx].arr;</span><br><span class="line">cus[cusIdx].wait = cus[cusIdx].wait % 60 &lt; 30 ? cus[cusIdx].wait / 60 : cus[cusIdx].wait / 60 + 1;</span><br></pre></td></tr></table></figure>
</li>
<li><p>è°ƒç”¨cmathä¸‹çš„<kbd>round</kbd>[^1]</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">round((cus[cusIdx].ser - cus[cusIdx].arr) / 60.0);</span><br></pre></td></tr></table></figure>
</li>
</ol>
<h2 id="é¢˜è§£"><a href="#é¢˜è§£" class="headerlink" title="é¢˜è§£"></a>é¢˜è§£</h2><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;queue&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;vector&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;set&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 28800 = 8 * 60 * 60</span></span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">customer</span> &#123;</span> <span class="keyword">int</span> arr = <span class="number">28800</span>, play = <span class="number">0</span>, isVip = <span class="number">0</span>, ser = <span class="number">86400</span>, wait = <span class="number">0</span>; &#125;;</span><br><span class="line"><span class="function"><span class="keyword">bool</span> <span class="title">cmpByArr</span><span class="params">(customer&amp; cus1, customer&amp; cus2)</span> </span>&#123; <span class="keyword">return</span> cus1.arr &lt; cus2.arr; &#125;</span><br><span class="line"><span class="function"><span class="keyword">bool</span> <span class="title">cmpBySer</span><span class="params">(customer&amp; cus1, customer&amp; cus2)</span> </span>&#123; <span class="keyword">return</span> cus1.ser == cus2.ser ? cus1.arr &lt; cus2.arr : cus1.ser &lt; cus2.ser; &#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">table</span> &#123;</span></span><br><span class="line">	<span class="keyword">int</span> avail = <span class="number">28800</span>, cnt = <span class="number">0</span>, isVip = <span class="number">0</span>, idx = <span class="number">-1</span>;</span><br><span class="line">	<span class="keyword">bool</span> <span class="keyword">operator</span> &lt; (<span class="keyword">const</span> table&amp; tab) <span class="keyword">const</span> &#123; <span class="keyword">return</span> avail == tab.avail ? idx &lt; tab.idx : avail &lt; tab.avail; &#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">// server customer a table and update table queue</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">serCustomerWithTable</span><span class="params">(<span class="keyword">int</span> cusIdx, <span class="keyword">int</span> tabIdx, <span class="built_in">vector</span>&lt;customer&gt;&amp; cus, <span class="built_in">vector</span>&lt;table&gt;&amp; tabs, <span class="built_in">set</span>&lt;table&gt;&amp; tabQ, <span class="built_in">set</span>&lt;table&gt;&amp; vipTabQ)</span> </span>&#123;</span><br><span class="line">	<span class="keyword">if</span> (cus[cusIdx].arr &gt;= <span class="number">75600</span> || tabs[tabIdx].avail &gt;= <span class="number">75600</span>) <span class="keyword">return</span>;</span><br><span class="line"></span><br><span class="line">	tabQ.erase(tabQ.find(tabs[tabIdx]));</span><br><span class="line">	<span class="keyword">if</span> (tabs[tabIdx].isVip) vipTabQ.erase(vipTabQ.find(tabs[tabIdx]));</span><br><span class="line"></span><br><span class="line">	cus[cusIdx].ser = cus[cusIdx].arr &gt;= tabs[tabIdx].avail ? cus[cusIdx].arr : tabs[tabIdx].avail;</span><br><span class="line">	cus[cusIdx].wait = cus[cusIdx].ser - cus[cusIdx].arr;</span><br><span class="line">	cus[cusIdx].wait = cus[cusIdx].wait % <span class="number">60</span> &lt; <span class="number">30</span> ? cus[cusIdx].wait / <span class="number">60</span> : cus[cusIdx].wait / <span class="number">60</span> + <span class="number">1</span>;</span><br><span class="line">	tabs[tabIdx].avail = cus[cusIdx].ser + cus[cusIdx].play;</span><br><span class="line">	tabs[tabIdx].cnt++;</span><br><span class="line"></span><br><span class="line">	tabQ.insert(tabs[tabIdx]);</span><br><span class="line">	<span class="keyword">if</span> (tabs[tabIdx].isVip) vipTabQ.insert(tabs[tabIdx]);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// get next vip customer index from beginIdx</span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">getNextVipCusIdx</span><span class="params">(<span class="keyword">int</span> beginIdx, <span class="built_in">vector</span>&lt;customer&gt;&amp; cus)</span> </span>&#123;</span><br><span class="line">	<span class="keyword">while</span> (beginIdx &lt; cus.size()) &#123;</span><br><span class="line">		<span class="keyword">if</span> (cus[beginIdx].isVip) <span class="keyword">return</span> beginIdx;</span><br><span class="line">		beginIdx++;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">return</span> <span class="number">-1</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">solution</span><span class="params">()</span> </span>&#123;</span><br><span class="line">	<span class="comment">// read in data</span></span><br><span class="line">	<span class="keyword">int</span> N, K, M, hh, mm, ss;</span><br><span class="line">	<span class="built_in">scanf</span>(<span class="string">"%d"</span>, &amp;N);</span><br><span class="line">	<span class="built_in">vector</span>&lt;customer&gt; cus(N);</span><br><span class="line">	<span class="keyword">for</span> (<span class="keyword">int</span> n = <span class="number">0</span>; n &lt; N; ++n) &#123;</span><br><span class="line">		<span class="built_in">scanf</span>(<span class="string">"%d:%d:%d %d %d"</span>, &amp;hh, &amp;mm, &amp;ss, &amp;cus[n].play, &amp;cus[n].isVip);</span><br><span class="line">		cus[n].arr = hh * <span class="number">3600</span> + mm * <span class="number">60</span> + ss;</span><br><span class="line">		cus[n].play *= <span class="number">60</span>;</span><br><span class="line">		<span class="keyword">if</span> (cus[n].play &gt; <span class="number">7200</span>) cus[n].play = <span class="number">7200</span>;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="built_in">scanf</span>(<span class="string">"%d %d"</span>, &amp;K, &amp;M);</span><br><span class="line">	<span class="built_in">vector</span>&lt;table&gt; tabs(K + <span class="number">1</span>);</span><br><span class="line">	<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; vipTabsIdx(M);</span><br><span class="line">	<span class="keyword">for</span> (<span class="keyword">int</span> m = <span class="number">0</span>; m &lt; M; ++m) &#123;</span><br><span class="line">		<span class="built_in">scanf</span>(<span class="string">"%d"</span>, &amp;vipTabsIdx[m]);</span><br><span class="line">		tabs[vipTabsIdx[m]].isVip = <span class="number">1</span>;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="comment">// init tables queue</span></span><br><span class="line">	<span class="built_in">set</span>&lt;table&gt; tabQ, vipTabQ;</span><br><span class="line">	<span class="keyword">for</span> (<span class="keyword">int</span> k = <span class="number">1</span>; k &lt;= K; ++k) &#123;</span><br><span class="line">		tabs[k].idx = k;</span><br><span class="line">		tabQ.insert(tabs[k]);</span><br><span class="line">		<span class="keyword">if</span> (tabs[k].isVip) vipTabQ.insert(tabs[k]);</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="comment">// sort customers by arrive time</span></span><br><span class="line">	sort(cus.begin(), cus.end(), cmpByArr);</span><br><span class="line"></span><br><span class="line">	<span class="comment">// assign table to customer</span></span><br><span class="line">	<span class="keyword">int</span> cusIdx = <span class="number">0</span>, vipCusIdx = getNextVipCusIdx(cusIdx, cus);</span><br><span class="line">	<span class="keyword">while</span> (cusIdx &lt; N) &#123;</span><br><span class="line">		<span class="comment">// break if customers cannot get a table before the closing time</span></span><br><span class="line">		<span class="keyword">if</span> (cus[cusIdx].arr &gt;= <span class="number">75600</span> || tabQ.begin()-&gt;avail &gt;= <span class="number">75600</span>) <span class="keyword">break</span>;</span><br><span class="line"></span><br><span class="line">		<span class="comment">// jump if served</span></span><br><span class="line">		<span class="keyword">if</span> (cus[cusIdx].ser &lt; <span class="number">86400</span>) &#123; cusIdx++; <span class="keyword">continue</span>; &#125;</span><br><span class="line"></span><br><span class="line">		<span class="comment">// update next vip customer index</span></span><br><span class="line">		<span class="keyword">if</span> (vipCusIdx &lt; cusIdx) vipCusIdx = getNextVipCusIdx(cusIdx, cus);</span><br><span class="line"></span><br><span class="line">		<span class="comment">// if a vip table</span></span><br><span class="line">		<span class="keyword">if</span> (tabQ.begin()-&gt;isVip) &#123;</span><br><span class="line">			<span class="comment">// check whether there is a vip customer waiting in queue</span></span><br><span class="line">			<span class="comment">// A vip customer wait in queue</span></span><br><span class="line">			<span class="keyword">if</span> (cusIdx != vipCusIdx &amp;&amp; vipCusIdx != <span class="number">-1</span> &amp;&amp; cus[vipCusIdx].arr &lt;= tabQ.begin()-&gt;avail) &#123;</span><br><span class="line">				serCustomerWithTable(vipCusIdx, tabQ.begin()-&gt;idx, cus, tabs, tabQ, vipTabQ);</span><br><span class="line">				vipCusIdx = getNextVipCusIdx(vipCusIdx + <span class="number">1</span>, cus);</span><br><span class="line">                <span class="keyword">continue</span>;</span><br><span class="line">			&#125;</span><br><span class="line">			<span class="comment">// no vip customer wait in queue or current customer is a VIP customer</span></span><br><span class="line">            serCustomerWithTable(cusIdx, tabQ.begin()-&gt;idx, cus, tabs, tabQ, vipTabQ);</span><br><span class="line">            cusIdx++;</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="comment">// not a vip table</span></span><br><span class="line">		<span class="keyword">else</span> &#123;</span><br><span class="line">			<span class="comment">// current customer is a vip customer, check whether there is a vip table available</span></span><br><span class="line">			<span class="keyword">if</span> (cus[cusIdx].isVip &amp;&amp; vipTabQ.begin()-&gt;avail &lt;= cus[cusIdx].arr)</span><br><span class="line">				serCustomerWithTable(cusIdx, vipTabQ.begin()-&gt;idx, cus, tabs, tabQ, vipTabQ);</span><br><span class="line">			<span class="comment">// not vip customer or no vip table available</span></span><br><span class="line">			<span class="keyword">else</span> serCustomerWithTable(cusIdx, tabQ.begin()-&gt;idx, cus, tabs, tabQ, vipTabQ);</span><br><span class="line">			cusIdx++;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="comment">// sort customers by serve time</span></span><br><span class="line">	sort(cus.begin(), cus.end(), cmpBySer);</span><br><span class="line"></span><br><span class="line">	<span class="comment">// output the answer</span></span><br><span class="line">	<span class="keyword">for</span> (<span class="keyword">int</span> n = <span class="number">0</span>; n &lt; N; ++n) &#123;</span><br><span class="line">		<span class="keyword">if</span> (cus[n].ser &gt;= <span class="number">75600</span>) <span class="keyword">break</span>;</span><br><span class="line">		<span class="built_in">printf</span>(<span class="string">"%02d:%02d:%02d %02d:%02d:%02d %d\n"</span>,</span><br><span class="line">			cus[n].arr / <span class="number">3600</span>, (cus[n].arr % <span class="number">3600</span>) / <span class="number">60</span>, cus[n].arr % <span class="number">60</span>,</span><br><span class="line">			cus[n].ser / <span class="number">3600</span>, (cus[n].ser % <span class="number">3600</span>) / <span class="number">60</span>, cus[n].ser % <span class="number">60</span>,</span><br><span class="line">			cus[n].wait);</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">for</span> (<span class="keyword">int</span> k = <span class="number">1</span>; k &lt; K; ++k) <span class="built_in">printf</span>(<span class="string">"%d "</span>, tabs[k].cnt);</span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">"%d\n"</span>, tabs[K].cnt);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123; solution(); <span class="keyword">return</span> <span class="number">0</span>; &#125;</span><br></pre></td></tr></table></figure>
<h2 id="å‚è€ƒ"><a href="#å‚è€ƒ" class="headerlink" title="å‚è€ƒ"></a>å‚è€ƒ</h2><ol>
<li><p>[^1]: <a href="https://www.liuchuo.net/archives/2955" target="_blank" rel="noopener">æŸ³å©¼ ã® blog - 1026. Table Tennis (30)-PATç”²çº§çœŸé¢˜ï¼ˆæ¨¡æ‹Ÿï¼‰</a></p>
</li>
<li><p>[^2]: <a href="https://blog.csdn.net/jmlikun/article/details/49821845" target="_blank" rel="noopener">SCDNåšå®¢ - siukwan - 1026. Table Tennis (30)</a></p>
</li>
</ol>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com2020/03/28/PATç”²çº§çœŸé¢˜-1075-PAT-Judge/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="iblackholmes">
      <meta itemprop="description" content>
      <meta itemprop="image" content="images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="IBLACKHOLMES">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="2020/03/28/PATç”²çº§çœŸé¢˜-1075-PAT-Judge/" itemprop="url">PATç”²çº§çœŸé¢˜-1075 PAT Judge</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2020-03-28T19:12:58+08:00">
                2020-03-28
              </time>
            

            

            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="categories/ç¼–ç¨‹ä¹‹æ—…/" itemprop="url" rel="index">
                    <span itemprop="name">ç¼–ç¨‹ä¹‹æ—…</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h2 id="é¢˜ç›®åœ°å€"><a href="#é¢˜ç›®åœ°å€" class="headerlink" title="é¢˜ç›®åœ°å€"></a>é¢˜ç›®åœ°å€</h2><p><a href="https://pintia.cn/problem-sets/994805342720868352/problems/994805393241260032" target="_blank" rel="noopener">https://pintia.cn/problem-sets/994805342720868352/problems/994805393241260032</a></p>
<h2 id="é¢˜ç›®æè¿°"><a href="#é¢˜ç›®æè¿°" class="headerlink" title="é¢˜ç›®æè¿°"></a>é¢˜ç›®æè¿°</h2><h3 id="Description"><a href="#Description" class="headerlink" title="Description"></a>Description</h3><p>The ranklist of PAT is generated from the status list, which shows the scores of the submissions. This time you are supposed to generate the ranklist for PAT.</p>
<h3 id="Input-Specification"><a href="#Input-Specification" class="headerlink" title="Input Specification"></a>Input Specification</h3><p>Each input file contains one test case. For each case, the first line contains 3 positive integers, $N$ ($\leq10^4$), the total number of users, $K$ ($\leq5$), the total number of problems, and $M$ ($\leq10^5$), the total number of submissions. It is then assumed that the user idâ€™s are 5-digit numbers from 00001 to $N$, and the problem idâ€™s are from 1 to $K$. The next line contains $K$ positive integers p[i] (i=1, â€¦, K), where p[i] corresponds to the full mark of the i-th problem. Then $M$ lines follow, each gives the information of a submission in the following format:<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">user_id problem_id partial_score_obtained</span><br></pre></td></tr></table></figure></p>
<p>where partial_score_obtained is either âˆ’1 if the submission cannot even pass the compiler, or is an integer in the range [0, p[problem_id]]. All the numbers in a line are separated by a space.</p>
<h3 id="Output-Specification"><a href="#Output-Specification" class="headerlink" title="Output Specification"></a>Output Specification</h3><p>For each test case, you are supposed to output the ranklist in the following format:<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">rank user_id total_score s[1] ... s[K]</span><br></pre></td></tr></table></figure></p>
<p>where rank is calculated according to the total_score, and all the users with the same total_score obtain the same rank; and s[i] is the partial score obtained for the i-th problem. If a user has never submitted a solution for a problem, then â€œ-â€œ must be printed at the corresponding position. If a user has submitted several solutions to solve one problem, then the highest score will be counted.</p>
<p>The ranklist must be printed in non-decreasing order of the ranks. For those who have the same rank, users must be sorted in nonincreasing order according to the number of perfectly solved problems. And if there is still a tie, then they must be printed in increasing order of their idâ€™s. For those who has never submitted any solution that can pass the compiler, or has never submitted any solution, they must NOT be shown on the ranklist. It is guaranteed that at least one user can be shown on the ranklist.</p>
<h3 id="Sample-Input"><a href="#Sample-Input" class="headerlink" title="Sample Input"></a>Sample Input</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">7 4 20</span><br><span class="line">20 25 25 30</span><br><span class="line">00002 2 12</span><br><span class="line">00007 4 17</span><br><span class="line">00005 1 19</span><br><span class="line">00007 2 25</span><br><span class="line">00005 1 20</span><br><span class="line">00002 2 2</span><br><span class="line">00005 1 15</span><br><span class="line">00001 1 18</span><br><span class="line">00004 3 25</span><br><span class="line">00002 2 25</span><br><span class="line">00005 3 22</span><br><span class="line">00006 4 -1</span><br><span class="line">00001 2 18</span><br><span class="line">00002 1 20</span><br><span class="line">00004 1 15</span><br><span class="line">00002 4 18</span><br><span class="line">00001 3 4</span><br><span class="line">00001 4 2</span><br><span class="line">00005 2 -1</span><br><span class="line">00004 2 0</span><br></pre></td></tr></table></figure>
<h3 id="Sample-Output"><a href="#Sample-Output" class="headerlink" title="Sample Output"></a>Sample Output</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">1 00002 63 20 25 - 18</span><br><span class="line">2 00005 42 20 0 22 -</span><br><span class="line">2 00007 42 - 25 - 17</span><br><span class="line">2 00001 42 18 18 4 2</span><br><span class="line">5 00004 40 15 0 25 -</span><br></pre></td></tr></table></figure>
<h2 id="åˆ†æä¸æ€è·¯"><a href="#åˆ†æä¸æ€è·¯" class="headerlink" title="åˆ†æä¸æ€è·¯"></a>åˆ†æä¸æ€è·¯</h2><h3 id="é¢˜ç›®å¤§æ„"><a href="#é¢˜ç›®å¤§æ„" class="headerlink" title="é¢˜ç›®å¤§æ„"></a>é¢˜ç›®å¤§æ„</h3><p>ç»™å‡ºç”¨æˆ·æäº¤è®°å½•ï¼Œè¾“å‡ºæ‰€æœ‰ç”¨æˆ·çš„æ’åã€‚</p>
<h3 id="åˆ†æ"><a href="#åˆ†æ" class="headerlink" title="åˆ†æ"></a>åˆ†æ</h3><p>è¿™é“é¢˜çš„ä¸»ä½“æ€è·¯å¾ˆç®€å•ï¼Œè®°å½•ç”¨æˆ·çš„æäº¤ï¼Œæ’åºï¼Œå†è¾“å‡ºç¬¦åˆè¦æ±‚çš„ç”¨æˆ·å³å¯ã€‚ä½†å¯¹äºç”¨æˆ·æ˜¯å¦è¾“å‡ºã€è¾“å‡ºä»€ä¹ˆå€¼æœ‰å‡ ä¸ªç»†èŠ‚éœ€è¦æ³¨æ„ï¼š</p>
<ol>
<li>å¦‚æœè¯¥ç”¨æˆ·æŸä¸€é¢˜æ²¡æœ‰æäº¤è¿‡ï¼Œåˆ™å¯¹åº”è¿™é“é¢˜çš„åˆ†æ•°è¾“å‡ºâ€œ-â€ï¼›å¦‚æœè¯¥ç”¨æˆ·æäº¤äº†ï¼Œä½†æ˜¯æ²¡æœ‰é€šè¿‡ç¼–è¯‘ï¼Œåˆ™å¯¹åº”è¿™é“é¢˜çš„åˆ†æ•°è¾“å‡º0. å› æ­¤ä½¿ç”¨ä¸€ä¸ªåˆå§‹å€¼ä¸º0çš„scoresæ•°ç»„è®°å½•ç”¨æˆ·æ¯é“é¢˜çš„æœ€é«˜åˆ†ï¼Œå¹¶ç”¨ä¸€ä¸ªsubmitæ•°ç»„è®°å½•ç”¨æˆ·æäº¤æƒ…å†µï¼›</li>
<li>ä»æ²¡æäº¤è¿‡ï¼Œæˆ–è€…æ‰€æœ‰æäº¤éƒ½ä¸é€šè¿‡çš„ç”¨æˆ·ä¸äºˆè¾“å‡ºã€‚è¿™é‡Œå°†æ€»åˆ†sumè®¾ç½®åˆå€¼ä¸ºä¸€ä¸ªå°äº0çš„æ•°ï¼Œå½“è¯»å…¥çš„åˆ†æ•°ä¸å¤§äº0æ—¶ï¼Œæ€»åˆ†ä¸ä¼šæ›´æ–°ï¼Œè¿™æ ·å¯ä»¥é€šè¿‡åˆ¤æ–­æ€»åˆ†æ˜¯å¦ä¸ºåˆå€¼ï¼Œè‹¥ä¸ºåˆå€¼åˆ™ä¸è¾“å‡ºï¼›å½“è¯»å…¥çš„åˆ†æ•°å¤§äºç­‰äº0æ—¶å€™ï¼Œè‹¥å¤§äºå½“å‰å€¼ï¼Œåˆ™å‡å»å½“å‰å€¼å³æ€»åˆ†å¢åŠ é‡ã€‚åŒæ—¶ï¼Œæ€»åˆ†å°äº0çš„æƒå€¼ä½ï¼Œé‡åˆ°æ€»åˆ†å°äºé›¶çš„ç”¨æˆ·ï¼Œå…¶åé¢æ‰€æœ‰ç”¨æˆ·æ€»åˆ†ä¹Ÿä¸å¯èƒ½å¤§äºé›¶ï¼Œç»“æŸè¾“å‡ºå¾ªç¯ï¼›</li>
<li>æäº¤ç¼–è¯‘é€šè¿‡ä½†å¾—åˆ†ä¸º0çš„ç”¨æˆ·ä»éœ€è¦è¾“å‡ºã€‚å½“æ›´æ–°æœ€é«˜åˆ†æ—¶ï¼Œä½¿ç”¨çš„åˆ¤æ–­æ˜¯â€œ$\leq$â€ï¼Œè¿™æ˜¯å› ä¸ºæ€»åˆ†åˆå€¼ä¸ºè´Ÿæ•°ï¼Œè€Œscoresåˆå€¼ä¸º0ï¼Œå½“æäº¤ç¼–è¯‘é€šè¿‡ï¼Œä½†å¾—åˆ†ä¸º0æ—¶ï¼Œéœ€è¦å°†æ€»åˆ†åˆå€¼ç½®ä¸º0ï¼›</li>
<li>æ€»åˆ†æœ€é«˜çš„æ’åœ¨å‰é¢ï¼›è‹¥æ€»åˆ†ç›¸åŒï¼Œåˆ™å®Œç¾é¢˜è§£æ•°é‡å¤šçš„æ’åœ¨å‰é¢ï¼›è‹¥ä»ç„¶ç›¸åŒï¼Œåˆ™æŒ‰ç…§IDå‡åºæ’åºã€‚</li>
</ol>
<p>æœ¬æ¬¡é¢˜è§£ä½¿ç”¨ä¸¤æ¬¡å¾ªç¯ï¼š</p>
<ol>
<li>ç¬¬ä¸€æ¬¡å¾ªç¯è¯»å…¥æ•°æ®ï¼Œå¹¶æ›´æ–°ç”¨æˆ·çš„æ€»åˆ†ã€å•é¢˜æœ€é«˜åˆ†ã€å®Œç¾é¢˜è§£æ•°é‡ï¼›</li>
<li>æ’åºåï¼Œè¿›è¡Œç¬¬äºŒæ¬¡å¾ªç¯ï¼Œè¾“å‡ºç­”æ¡ˆã€‚å½“é‡åˆ°æ€»åˆ†ä¸º0çš„ç”¨æˆ·ï¼Œè·³å‡ºå¾ªç¯ï¼Œè¾“å‡ºç»“æŸã€‚</li>
</ol>
<h2 id="é¢˜è§£"><a href="#é¢˜è§£" class="headerlink" title="é¢˜è§£"></a>é¢˜è§£</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br></pre></td><td class="code"><pre><span class="line">#include &lt;iostream&gt;</span><br><span class="line">#include &lt;vector&gt;</span><br><span class="line">#include &lt;algorithm&gt;</span><br><span class="line">using namespace std;</span><br><span class="line"></span><br><span class="line">struct user &#123;</span><br><span class="line">	int ID = -1, sum = 0x80000000, perCnt = 0;</span><br><span class="line">	vector&lt;int&gt; scores;</span><br><span class="line">	vector&lt;bool&gt; perP, submit;</span><br><span class="line">&#125;;</span><br><span class="line">bool cmp(user&amp; U1, user&amp; U2) &#123;</span><br><span class="line">	if (U1.sum != U2.sum) return U1.sum &gt; U2.sum;</span><br><span class="line">	if (U1.perCnt != U2.perCnt) return U1.perCnt &gt; U2.perCnt;</span><br><span class="line">	return U1.ID &lt; U2.ID;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">void solution() &#123;</span><br><span class="line">	// read in data</span><br><span class="line">	int N, K, M, uID, pID, s, rank;</span><br><span class="line">	scanf(&quot;%d %d %d&quot;, &amp;N, &amp;K, &amp;M);</span><br><span class="line">	vector&lt;int&gt; fScore(K + 1, 0);</span><br><span class="line">	for (int k = 1; k &lt;= K; ++k) scanf(&quot;%d&quot;, &amp;fScore[k]);</span><br><span class="line">	vector&lt;user&gt; Us(N + 1);</span><br><span class="line">	for (int m = 0; m &lt; M; ++m) &#123;</span><br><span class="line">		scanf(&quot;%d %d %d&quot;, &amp;uID, &amp;pID, &amp;s);</span><br><span class="line"></span><br><span class="line">		// initialize user if NOT</span><br><span class="line">		if (Us[uID].scores.empty()) &#123;</span><br><span class="line">			Us[uID].ID = uID;</span><br><span class="line">			Us[uID].scores.resize(K + 1, 0);</span><br><span class="line">			Us[uID].perP.resize(K + 1, false);</span><br><span class="line">			Us[uID].submit.resize(K + 1, false);</span><br><span class="line">		&#125;</span><br><span class="line"></span><br><span class="line">		Us[uID].submit[pID] = true;</span><br><span class="line"></span><br><span class="line">		// update the highest score</span><br><span class="line">		if (Us[uID].scores[pID] &lt;= s) &#123;</span><br><span class="line">            if (Us[uID].sum &lt; 0) Us[uID].sum = 0;</span><br><span class="line">			Us[uID].sum += s - Us[uID].scores[pID];</span><br><span class="line">			Us[uID].scores[pID] = s;</span><br><span class="line">		&#125;</span><br><span class="line"></span><br><span class="line">		// update the number of perfect solved problems</span><br><span class="line">		if (!Us[uID].perP[pID] &amp;&amp; Us[uID].scores[pID] == fScore[pID]) &#123;</span><br><span class="line">			Us[uID].perP[pID] = true;</span><br><span class="line">			Us[uID].perCnt++;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	sort(Us.begin() + 1, Us.end(), cmp);</span><br><span class="line">	s = Us[1].sum; rank = 1;</span><br><span class="line">	for (int n = 1; n &lt;= N; ++n) &#123;</span><br><span class="line">		if (Us[n].sum &lt; 0) break;</span><br><span class="line">		if (Us[n].sum != s) &#123;</span><br><span class="line">			rank = n;</span><br><span class="line">			s = Us[n].sum;</span><br><span class="line">		&#125;</span><br><span class="line">		printf(&quot;%d %05d %d&quot;, rank, Us[n].ID, Us[n].sum &lt; 0 ? 0 : Us[n].sum);</span><br><span class="line">		for (int k = 1; k &lt;= K; ++k) &#123;</span><br><span class="line">			if (!Us[n].submit[k]) printf(&quot; -&quot;);</span><br><span class="line">			else printf(&quot; %d&quot;, Us[n].scores[k]);</span><br><span class="line">		&#125;</span><br><span class="line">		printf(&quot;\n&quot;);</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">int main() &#123; solution(); return 0;&#125;</span><br></pre></td></tr></table></figure>
          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com2020/03/27/PATç”²çº§çœŸé¢˜-1018-Public-Bike-Management/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="iblackholmes">
      <meta itemprop="description" content>
      <meta itemprop="image" content="images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="IBLACKHOLMES">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="2020/03/27/PATç”²çº§çœŸé¢˜-1018-Public-Bike-Management/" itemprop="url">PATç”²çº§çœŸé¢˜-1018.Public Bike Management</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2020-03-27T15:21:04+08:00">
                2020-03-27
              </time>
            

            

            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="categories/ç¼–ç¨‹ä¹‹æ—…/" itemprop="url" rel="index">
                    <span itemprop="name">ç¼–ç¨‹ä¹‹æ—…</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h2 id="é¢˜ç›®åœ°å€"><a href="#é¢˜ç›®åœ°å€" class="headerlink" title="é¢˜ç›®åœ°å€"></a>é¢˜ç›®åœ°å€</h2><p><a href="https://pintia.cn/problem-sets/994805342720868352/problems/994805489282433024" target="_blank" rel="noopener">https://pintia.cn/problem-sets/994805342720868352/problems/994805489282433024</a></p>
<h2 id="é¢˜ç›®æè¿°"><a href="#é¢˜ç›®æè¿°" class="headerlink" title="é¢˜ç›®æè¿°"></a>é¢˜ç›®æè¿°</h2><h3 id="description"><a href="#description" class="headerlink" title="description"></a>description</h3><p>There is a public bike service in Hangzhou City which provides great convenience to the tourists from all over the world. One may rent a bike at any station and return it to any other stations in the city.</p>
<p>The Public Bike Management Center (PBMC) keeps monitoring the real-time capacity of all the stations. A station is said to be in perfect condition if it is exactly half-full. If a station is full or empty, PBMC will collect or send bikes to adjust the condition of that station to <strong>perfect</strong>. And more, all the stations on the way will be adjusted as well.</p>
<p>When a problem station is reported, PBMC will always choose the shortest path to reach that station. If there are more than one shortest path, the one that requires the least number of bikes sent from PBMC will be chosen.</p>
<img src="/2020/03/27/PATç”²çº§çœŸé¢˜-1018-Public-Bike-Management/001.jpg" title="ç¤ºæ„å›¾">
<p>The above figure illustrates an example. The stations are represented by vertices and the roads correspond to the edges. The number on an edge is the time taken to reach one end station from another. The number written inside a vertex $S$ is the current number of bikes stored at $S$. Given that the maximum capacity of each station is 10. To solve the problem at $S_3$, we have 2 different shortest paths:</p>
<ol>
<li>PBMC -&gt; $S_1$-&gt; $S_3$. In this case, 4 bikes must be sent from PBMC, because we can collect 1 bike from $S_1$ and then take 5 bikes to $S_3$, so that both stations will be in perfect conditions.</li>
<li>PBMC -&gt; $S_2$-&gt; $S_3$. This path requires the same time as path 1, but only 3 bikes sent from PBMC and hence is the one that will be chosen.</li>
</ol>
<h3 id="Input-Specification"><a href="#Input-Specification" class="headerlink" title="Input Specification"></a>Input Specification</h3><p>Each input file contains one test case. For each case, the first line contains 4 numbers: $C_{max} (\leq100)$, always an even number, is the maximum capacity of each station; $N (\leq500)$, the total number of stations; $S_p$, the index of the problem station (the stations are numbered from 1 to $N$, and PBMC is represented by the vertex 0); and $M$, the number of roads. The second line contains $N$ non-negative numbers $C_i (i=1,â€¦,N)$ where each $C_i$ is the current number of bikes at $S_i$ respectively. Then $M$ lines follow, each contains 3 numbers: $S_i, S_j$ and $T_{ij}$ taken to move betwen stations $S_i$ and $S_j$. All the numbers in a line are separated by a space.</p>
<h3 id="Output-Specification"><a href="#Output-Specification" class="headerlink" title="Output Specification"></a>Output Specification</h3><p>For each test case, print your results in one line. First output the number of bikes that PBMC must send. Then after one space, output the path in the format: </p>
<p>$0$ -&gt; $S_1$-&gt; â€¦-&gt; $S_p$. Finally after another space, output the number of bikes that we must take back to PBMC after the condition of $S_p$ is adjusted to perfect.</p>
<p>Note that if such a path is not unique, output the one that requires minimum number of bikes that we must take back to PBMC. The judgeâ€™s data guarantee that such a path is unique.</p>
<h3 id="Sample-Input"><a href="#Sample-Input" class="headerlink" title="Sample Input"></a>Sample Input</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">10 3 3 5</span><br><span class="line">6 7 0</span><br><span class="line">0 1 1</span><br><span class="line">0 2 1</span><br><span class="line">0 3 3</span><br><span class="line">1 3 1</span><br><span class="line">2 3 1</span><br></pre></td></tr></table></figure>
<h3 id="Sample-Output"><a href="#Sample-Output" class="headerlink" title="Sample Output"></a>Sample Output</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">3 0-&gt;2-&gt;3 0</span><br></pre></td></tr></table></figure>
<h2 id="åˆ†æä¸æ€è·¯"><a href="#åˆ†æä¸æ€è·¯" class="headerlink" title="åˆ†æä¸æ€è·¯"></a>åˆ†æä¸æ€è·¯</h2><h3 id="é¢˜ç›®å¤§æ„"><a href="#é¢˜ç›®å¤§æ„" class="headerlink" title="é¢˜ç›®å¤§æ„"></a>é¢˜ç›®å¤§æ„</h3><p>æ¯ä¸ªè½¦ç«™æœ€å¤šå¯å­˜æ”¾ä¸€ä¸ªå¶æ•°ä¸º$C_{max}$è¾†è‡ªè¡Œè½¦ã€‚å½“è¯¥è½¦ç«™é‡Œé¢çš„è‡ªè¡Œè½¦æ•°é‡æ°å¥½ä¸º$C_{max}/2$è¾†æ—¶ï¼Œåˆ™ç§°ä¸ºå®Œç¾çŠ¶æ€ã€‚å½“è½¦ç«™å‚¨å­˜çš„å•è½¦æ»¡äº†æˆ–è€…ç©ºäº†ï¼Œé‚£ä¹ˆä½äº0å¤„çš„PBMC(å…¬å…±è‡ªè¡Œè½¦ç®¡ç†ä¸­å¿ƒ)å°±ä¼šä»è¯¥è½¦ç«™æœé›†å›æˆ–è€…è¿é€å•è½¦åˆ°è¯¥è½¦ç«™å»ï¼Œä½¿å¾—è¯¥è½¦ç«™å¤„äºå®Œç¾çŠ¶æ€ã€‚åœ¨PBMCå¤„ç†è¯¥è½¦ç«™çš„è¿‡ç¨‹ä¸­ï¼Œæ²¿é€”çš„è½¦ç«™ä¹Ÿä¼šè¢«è¿›è¡Œç›¸åº”çš„è°ƒæ•´ã€‚ç°ç»™å‡ºå››ä¸ªå‚æ•°ï¼Œè½¦ç«™æœ€å¤§å®¹é‡$C_{max}$ï¼Œè½¦ç«™çš„æ•°é‡$n$ï¼Œå¾…è°ƒæ•´çš„é—®é¢˜è½¦ç«™$S_p$ï¼Œ$m$æ¡å¸¦è·ç¦»çš„æ— å‘è¾¹ï¼Œæ±‚è°ƒæ•´é—®é¢˜è½¦ç«™çš„æœ€çŸ­è·¯å¾„ã€‚è‹¥è¯¥æœ€çŸ­è·¯å¾„ä¸æ˜¯å”¯ä¸€çš„ï¼Œåˆ™è¾“å‡ºéœ€è¦ä»PBMCå¸¦å‡ºè‡ªè¡Œè½¦è¾†æœ€å°‘çš„è·¯å¾„ï¼›å¦‚æœè¿™æ ·çš„è·¯å¾„ä»ç„¶ä¸æ˜¯å”¯ä¸€çš„ï¼Œåˆ™è¾“å‡ºéœ€è¦å¸¦å›PBMCè‡ªè¡Œè½¦è¾†æœ€å°‘çš„è·¯å¾„ã€‚</p>
<h3 id="åˆ†æ"><a href="#åˆ†æ" class="headerlink" title="åˆ†æ"></a>åˆ†æ</h3><p>é¦–å…ˆéœ€è¦æ³¨æ„çš„æ˜¯ï¼Œæ˜¯ä»PBMCå‡ºå‘ï¼Œä¸€è·¯åˆ°é—®é¢˜è½¦ç«™$S_p$ï¼Œé€”ä¸­ä¿®æ­£æ‰€æœ‰çš„è½¦ç«™ï¼Œä½†æ˜¯ä¸ä¼šå°†åé¢è½¦ç«™å¤šä½™çš„è½¦è¾†è¿é€å›å‰é¢çš„è½¦ç«™ã€‚æ¯”å¦‚ä¸€æ¡è·¯$0(-)-&gt;1(3)-&gt;S_p(10)$ï¼Œé‚£ä¹ˆç­”æ¡ˆæ˜¯$send=2$ï¼Œ$back=5$ï¼Œè€Œé$send=0$ï¼Œ$back=3$ã€‚å› æ­¤ï¼Œåœ¨è®¡ç®—çš„è¿‡ç¨‹ä¸­éœ€è¦åŒæ—¶è®¡ç®—$send$å’Œ$back$</p>
<p>é¢˜è§£é‡‡ç”¨$Dijkstra+DFS$ã€‚å…ˆç”¨$Dijkstra$è®¡ç®—å‡ºæ‰€æœ‰æœ€çŸ­è·¯å¾„ï¼Œä»¥é—®é¢˜èŠ‚ç‚¹(vertex $S_p$)ä½œä¸ºå‡ºå‘ç‚¹ï¼Œä½¿ç”¨$pre$å‚¨å­˜æœ€çŸ­è·¯å¾„ä¸‹å½“å‰è½¦ç«™çš„å‰é©±è½¦ç«™ã€‚æ³¨æ„åˆ°æœ€çŸ­è·¯å¾„ä¸å”¯ä¸€ï¼Œåˆ™å‰é©±è½¦ç«™ä¹Ÿä¸å”¯ä¸€ï¼Œå› æ­¤ç”¨ä¸€ä¸ªäºŒç»´æ•°ç»„å‚¨å­˜å‰é©±è½¦ç«™ã€‚å½“è·å¾—æ‰€æœ‰æœ€çŸ­è·¯å¾„åï¼Œæœ€åå½¢æˆçš„æœ€çŸ­è·¯å¾„å®é™…ä¸Šæ˜¯ä¸€ä¸ªå›¾ï¼Œé‡‡ç”¨$DFS$éå†æ‰€æœ‰æœ€çŸ­è·¯å¾„ï¼Œä»$PBMC$(vertex  0)å¼€å§‹ï¼Œåˆ°é—®é¢˜èŠ‚ç‚¹(vertex $S_p$)ç»ˆæ­¢ï¼ŒåŒæ—¶æ›´æ–°è·¯å¾„ä¸Šçš„$send$å’Œ$back$ï¼Œè®°å½•æ»¡è¶³é¢˜æ„çš„$send_{min}$, $back_{min}$å’Œ$path$</p>
<p>è¿™é‡Œè®¡ç®—$Dijkstra$ä»¥é—®é¢˜èŠ‚ç‚¹(vertex $S_p$)ä½œä¸ºå‡ºå‘ç‚¹ï¼Œé‡‡ç”¨$DFS$éå†æ—¶ä»$PBMC$(vertex  0)å¼€å§‹ï¼Œä¸»è¦æ˜¯ä¸ºäº†å½¢æˆçš„$path$èƒ½å¤ŸæŒ‰åºè¾“å‡ºã€‚è¿˜æœ‰å¦ä¸€ç§è§£æ³•ï¼Œå³ä¸éœ€è¦$Dijkstra$ï¼Œç›´æ¥ä½¿ç”¨$DFS$éå†æ‰€æœ‰è·¯å¾„ï¼Œæ¯”å¦‚<a href="https://blog.csdn.net/ywy0ywy/article/details/45770693" target="_blank" rel="noopener">è¿™ä¸ªè§£æ³•</a>ã€‚</p>
<h2 id="é¢˜è§£"><a href="#é¢˜è§£" class="headerlink" title="é¢˜è§£"></a>é¢˜è§£</h2><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;vector&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"></span><br><span class="line"><span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; ans;</span><br><span class="line"><span class="keyword">int</span> halfCap, N, Sp, M, x, y, d, ansSend = <span class="number">0x7fffffff</span>, ansBack = <span class="number">0</span>;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">DFS</span><span class="params">(<span class="keyword">int</span> idx, <span class="keyword">int</span> send, <span class="keyword">int</span> back, <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&amp; path, <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&amp; curBike2per, <span class="built_in">vector</span>&lt;<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&gt;&amp; pre, <span class="built_in">vector</span>&lt;<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&gt;&amp; dis)</span> </span>&#123;</span><br><span class="line">	path.push_back(idx);</span><br><span class="line"></span><br><span class="line">	back += curBike2per[idx];</span><br><span class="line">	<span class="keyword">if</span> (back &lt; <span class="number">0</span>) &#123; <span class="comment">//å½“backå°äº0æ—¶ï¼Œè¯´æ˜cåˆ°è¾¾å½“å‰è½¦ç«™æ—¶xï¼Œå·²ç»éœ€è¦ä»PBMCè°ƒåº¦å‡ºè½¦è¾†</span></span><br><span class="line">        send += -back; </span><br><span class="line">        back = <span class="number">0</span>; </span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">if</span> (idx == Sp) &#123;</span><br><span class="line">		<span class="keyword">if</span> (send &lt; ansSend || (send == ansSend &amp;&amp; back &lt; ansBack)) &#123; </span><br><span class="line">            ansSend = send; </span><br><span class="line">            ansBack = back; </span><br><span class="line">            ans = path; </span><br><span class="line">        &#125;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">else</span> </span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">unsigned</span> <span class="keyword">int</span> i = <span class="number">0</span>; i &lt; pre[idx].size(); ++i) </span><br><span class="line">            DFS(pre[idx][i], send, back, path, curBike2per, pre, dis);</span><br><span class="line"></span><br><span class="line">	path.pop_back();</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">solution</span><span class="params">()</span> </span>&#123;</span><br><span class="line">	<span class="comment">// read in data</span></span><br><span class="line">	<span class="built_in">scanf</span>(<span class="string">"%d %d %d %d"</span>, &amp;halfCap, &amp;N, &amp;Sp, &amp;M);</span><br><span class="line">	<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; curBike2Per(N + <span class="number">1</span>, <span class="number">0</span>);</span><br><span class="line">	<span class="built_in">vector</span>&lt;<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&gt; dis(N + <span class="number">1</span>, <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;(N + <span class="number">1</span>, <span class="number">0x7fffffff</span>));</span><br><span class="line">	halfCap = halfCap &gt;&gt; <span class="number">1</span>;</span><br><span class="line">	<span class="keyword">for</span> (<span class="keyword">int</span> n = <span class="number">1</span>; n &lt;= N; ++n) &#123; </span><br><span class="line">        <span class="built_in">scanf</span>(<span class="string">"%d"</span>, &amp;curBike2Per[n]); </span><br><span class="line">        curBike2Per[n] -= halfCap; </span><br><span class="line">    &#125;</span><br><span class="line">	<span class="keyword">for</span> (<span class="keyword">int</span> m = <span class="number">0</span>; m &lt; M; ++m) &#123; </span><br><span class="line">        <span class="built_in">scanf</span>(<span class="string">"%d %d %d"</span>, &amp;x, &amp;y, &amp;d); </span><br><span class="line">        dis[x][y] = dis[y][x] = d; </span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">	<span class="comment">// dijkstra</span></span><br><span class="line">	<span class="built_in">vector</span>&lt;<span class="keyword">bool</span>&gt; check(N + <span class="number">1</span>, <span class="literal">false</span>); check[Sp] = <span class="literal">true</span>;</span><br><span class="line">	<span class="keyword">int</span> idx = <span class="number">-1</span>, minCost = <span class="number">0x7fffffff</span>;</span><br><span class="line">	<span class="built_in">vector</span>&lt;<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&gt; pre(N + <span class="number">1</span>);</span><br><span class="line">	<span class="keyword">for</span> (<span class="keyword">int</span> n = <span class="number">0</span>; n &lt;= N; ++n) </span><br><span class="line">        <span class="keyword">if</span> (dis[Sp][n] &lt; <span class="number">0x7fffffff</span>) </span><br><span class="line">            pre[n].push_back(Sp);</span><br><span class="line">	<span class="keyword">for</span> (<span class="keyword">int</span> n = <span class="number">1</span>; n &lt;= N; ++n) &#123;</span><br><span class="line">		idx = <span class="number">-1</span>; minCost = <span class="number">0x7fffffff</span>;</span><br><span class="line">		<span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt;= N; ++i) </span><br><span class="line">            <span class="keyword">if</span> (!check[i] &amp;&amp; dis[Sp][i] &lt; minCost) &#123; </span><br><span class="line">                minCost = dis[Sp][i]; </span><br><span class="line">                idx = i; </span><br><span class="line">            &#125;</span><br><span class="line">		<span class="keyword">if</span> (idx == <span class="number">-1</span>) <span class="keyword">break</span>;</span><br><span class="line">		check[idx] = <span class="literal">true</span>;</span><br><span class="line">		<span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt;= N; ++i) &#123;</span><br><span class="line">			<span class="keyword">if</span> (check[i] || dis[idx][i] == <span class="number">0x7fffffff</span>) </span><br><span class="line">                <span class="keyword">continue</span>;</span><br><span class="line">			<span class="keyword">if</span> (dis[idx][i] + dis[Sp][idx] &lt; dis[Sp][i]) &#123; </span><br><span class="line">                pre[i].clear(); </span><br><span class="line">                pre[i].push_back(idx); </span><br><span class="line">                dis[Sp][i] = dis[idx][i] + dis[Sp][idx]; </span><br><span class="line">            &#125;</span><br><span class="line">			<span class="keyword">else</span> <span class="keyword">if</span> (dis[Sp][i] == dis[idx][i] + dis[Sp][idx]) </span><br><span class="line">                pre[i].push_back(idx);</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="comment">// DFS</span></span><br><span class="line">	<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; path;</span><br><span class="line">	DFS(<span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, path, curBike2Per, pre, dis);</span><br><span class="line"></span><br><span class="line">	<span class="comment">// output answer</span></span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">"%d %d"</span>, ansSend, ans[<span class="number">0</span>]);</span><br><span class="line">	<span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt; ans.size(); ++i) </span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"-&gt;%d"</span>, ans[i]);</span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">" %d\n"</span>, ansBack);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123; </span><br><span class="line">    solution(); </span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>; </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
  </section>

  


          </div>
          


          

        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    
    <div class="sidebar-inner">

      

      

      <section class="site-overview-wrap sidebar-panel sidebar-panel-active">
        <div class="site-overview">
          <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
            
              <p class="site-author-name" itemprop="name">iblackholmes</p>
              <p class="site-description motion-element" itemprop="description"></p>
          </div>

          <nav class="site-state motion-element">

            
              <div class="site-state-item site-state-posts">
              
                <a href="/archives/">
              
                  <span class="site-state-item-count">3</span>
                  <span class="site-state-item-name">posts</span>
                </a>
              </div>
            

            
              
              
              <div class="site-state-item site-state-categories">
                <a href="categories/index.html">
                  <span class="site-state-item-count">1</span>
                  <span class="site-state-item-name">categories</span>
                </a>
              </div>
            

            
              
              
              <div class="site-state-item site-state-tags">
                <a href="tags/index.html">
                  <span class="site-state-item-count">8</span>
                  <span class="site-state-item-name">tags</span>
                </a>
              </div>
            

          </nav>

          

          
            <div class="links-of-author motion-element">
                
                  <span class="links-of-author-item">
                    <a href="mailto:iblackholmes@outlook.com" target="_blank" title="E-Mail">
                      
                        <i class="fa fa-fw fa-envelope"></i>E-Mail</a>
                  </span>
                
            </div>
          

          
          

          
          

          

        </div>
      </section>

      

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright">&copy; 2019 &mdash; <span itemprop="copyrightYear">2020</span>
  <span class="with-love">
    <i class="fa fa-user"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">iblackholmes</span>

  
</div>


  <div class="powered-by">Powered by <a class="theme-link" target="_blank" href="https://hexo.io">Hexo</a></div>



  <span class="post-meta-divider">|</span>



  <div class="theme-info">Theme &mdash; <a class="theme-link" target="_blank" href="https://github.com/iissnan/hexo-theme-next">NexT.Muse</a> v5.1.4</div>




        







        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
      </div>
    

    

  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  












  
  
    <script type="text/javascript" src="lib/jquery/index.js?v=2.1.3"></script>
  

  
  
    <script type="text/javascript" src="lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script>
  

  
  
    <script type="text/javascript" src="lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>
  

  
  
    <script type="text/javascript" src="lib/velocity/velocity.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="lib/velocity/velocity.ui.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>
  


  


  <script type="text/javascript" src="js/src/utils.js?v=5.1.4"></script>

  <script type="text/javascript" src="js/src/motion.js?v=5.1.4"></script>



  
  

  

  


  <script type="text/javascript" src="js/src/bootstrap.js?v=5.1.4"></script>



  


  




	





  





  












  





  

  

  

  
  

  
  
    <script type="text/x-mathjax-config">
      MathJax.Hub.Config({
        tex2jax: {
          inlineMath: [ ['$','$'], ["\\(","\\)"]  ],
          processEscapes: true,
          skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code']
        }
      });
    </script>

    <script type="text/x-mathjax-config">
      MathJax.Hub.Queue(function() {
        var all = MathJax.Hub.getAllJax(), i;
        for (i=0; i < all.length; i += 1) {
          all[i].SourceElement().parentNode.className += ' has-jax';
        }
      });
    </script>
    <script type="text/javascript" src="//cdn.bootcss.com/mathjax/2.7.1/latest.js?config=TeX-AMS-MML_HTMLorMML"></script>
  


  

  

</body>
</html>
